{"version":3,"sources":["assets/images/logo.svg","assets/images/kid-boy.png","assets/images/nophoto.svg","Hooks/User.tsx","Components/Login.tsx","Components/Navbar.tsx","Components/YoutubeIframe.tsx","Hooks/Socket.tsx","Components/MessageUI.tsx","Hooks/Analytics.tsx","Components/FunctionButtonGroup.tsx","Components/Chatbox.tsx","App.tsx","serviceWorker.js","index.tsx"],"names":["module","exports","useUserData","React","useState","isLoggedIn","userData","setUserData","useCookies","cookies","useEffect","token","decodedUserData","jwtDecode","jwtToken","e","console","error","log","Login","hasError","setHasError","email","updateEmail","password","updatePassword","setCookie","removeCookie","Fragment","className","username","alignRight","id","Toggle","name","size","Container","Item","role","onClick","path","Input","type","placeholder","value","onChange","target","isInvalid","variant","event","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","json","data","status","access_token","catch","Label","Feedback","visible","NavBar","fullWidth","Brand","as","SafeAnchor","src","require","height","Main","Left","Right","YoutubeIframe","youtubeUrl","setYoutubeUrl","interval","setInterval","response","url","clearInterval","width","frameBorder","allow","allowFullScreen","useSocket","singletonHook","socket","setSocket","close","window","io","query","UserMessageUI","message","messageId","message_type","hover","setHover","onMouseEnter","onMouseLeave","classNames","additionalStyles","minWidth","emit","SystemMessageUI","init","numUsers","numRooms","rooms","useChatAnalytics","analytics","setAnalytics","runRoutine","setRunRoutine","updateRoutine","credentials","r","newAnalytics","map","count","reduce","a","b","length","setTimeout","FunctionButtonGroup","isSignedIn","isAdmin","show","setShow","chatAnalytics","relative","Header","closeButton","onHide","Body","Footer","Button","onlyIcon","Icon","Trigger","key","placement","hoverOverlay","delay","hide","overlay","props","i","roomName","ChatMessage","payload","action","room","msg","message_id","Chatbox","messages","updateMessages","messageInput","setMessageInput","currentRoom","setCurrentRoom","sendAll","setSendAll","handleSubmit","messageToSend","trim","event_type","includes","replace","userName","Authorization","push","on","objDiv","document","querySelector","scrollTop","scrollHeight","text","avatar","List","m","Context","Check","checked","label","disabledAttachButton","disabledSendButton","sendButtonActive","inputProps","maxRows","disabled","onKeyDown","keyCode","which","shiftKey","undefined","sendButtonProps","App","style","Boolean","location","hostname","match","ReactDOM","render","StrictMode","CookiesProvider","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ebbdc6ff.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.72b2a429.svg\";","module.exports = __webpack_public_path__ + \"static/media/kid-boy.9cb10d95.png\";","module.exports = __webpack_public_path__ + \"static/media/nophoto.b05bae62.svg\";","import React from \"react\";\nimport { useCookies } from \"react-cookie\";\n//@ts-ignore\nimport { UserData } from \"../Types/User\";\nimport jwtDecode from \"jwt-decode\";\n\nexport function useUserData() {\n  const [userData, setUserData] = React.useState({\n    isLoggedIn: false,\n  } as UserData);\n  const [cookies] = useCookies([\"live-site-jwt\"]);\n  React.useEffect(() => {\n    const token = cookies[\"live-site-jwt\"];\n    if (token) {\n      try {\n        let decodedUserData: any = jwtDecode(token);\n        setUserData({\n          isLoggedIn: true,\n          jwtToken: token,\n          ...decodedUserData,\n        });\n      } catch (e) {\n        console.error(e);\n        console.log(\"Failed to decode jwt token from cookies\");\n      }\n    } else {\n      setUserData({\n        isLoggedIn: false,\n      });\n    }\n  }, [cookies]);\n\n  return userData;\n}\n\n//export const useUserData = singletonHook({isLoggedIn: false}, useUserDataImpl);\n","import React, { Component } from \"react\";\nimport { useCookies } from \"react-cookie\";\n//@ts-ignore\nimport { Form, Button, Dropdown, Icon } from '@gotitinc/design-system';\nimport { useUserData } from \"../Hooks/User\";\n\nexport default function Login() {\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [hasError, setHasError] = React.useState(false);\n  const [email, updateEmail] = React.useState(\"\");\n  const [password, updatePassword] = React.useState(\"\");\n  const [cookies, setCookie, removeCookie] = useCookies([\"live-site-jwt\"]);\n  const userData = useUserData();\n\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    setHasError(false);\n\n    // Login via server\n    fetch(\"/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        username: email,\n        password,\n      }),\n    })\n      .then((res) => {\n        return res.json();\n      })\n      .then((data) => {\n        if (data.status == 1) {\n          // Save JWT to cookie\n          setCookie(\"live-site-jwt\", data.access_token, { path: \"/\" });\n          setHasError(false);\n        } else {\n          setHasError(true);\n        }\n      })\n      .catch((e) => console.log(e));\n  };\n\n  const logOut = () => {\n    removeCookie(\"live-site-jwt\", { path: \"/\" });\n  };\n\n\n\n  return userData.isLoggedIn ? (\n    <React.Fragment>\n      <div className=\"u-marginRightExtraSmall\">{userData?.username}</div>\n      <Dropdown alignRight id=\"profile\">\n        <Dropdown.Toggle className=\"u-textLight u-lineHeightNone\">\n          <Icon name=\"contact\" size=\"medium\" />\n        </Dropdown.Toggle>\n        <Dropdown.Container className=\"u-paddingVerticalExtraSmall\">\n          <Dropdown.Item role=\"button\" onClick={logOut} id=\"header-logout-button\">\n            <Icon name=\"power\" size=\"small\" />\n            <span className=\"u-marginLeftExtraSmall\">Đăng xuất</span>\n          </Dropdown.Item>\n        </Dropdown.Container>\n      </Dropdown>\n    </React.Fragment>\n  ) : (\n    <React.Fragment>\n      <Form.Input\n        type=\"text\"\n        placeholder=\"Email\"\n        className=\"u-marginRightExtraSmall\"\n        value={email}\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) => updateEmail(e.target.value)}\n        isInvalid={hasError}\n      />\n      <Form.Input\n        type=\"password\"\n        placeholder=\"Mật khẩu\"\n        className=\"u-marginRightExtraSmall\"\n        value={password}\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) => updatePassword(e.target.value)}\n        isInvalid={hasError}\n      />\n      <Button variant=\"accent\" onClick={handleSubmit}>\n        <Button.Label className=\"u-textDark u-textNoWrap\">Đăng nhập</Button.Label>\n      </Button>\n      {/* TODO */}\n      {hasError && (\n        <Form.Feedback type=\"invalid\" visible>Sai username hoặc mật khẩu!</Form.Feedback>\n      )}\n    </React.Fragment>\n  );\n}\n","import React from \"react\";\n//@ts-ignore\nimport { Header, Logo, SafeAnchor,Badge } from '@gotitinc/design-system';\nimport Login from \"./Login\";\n\nexport default function NavBar() {\n  return (\n    <Header fullWidth>\n      <Header.Brand>\n        <Logo as={SafeAnchor} src={require('../assets/images/logo.svg')} height={42} />\n      </Header.Brand>\n      <Header.Main>\n        <Header.Left className=\"u-alignItemsCenter\">\n          <div className=\"u-fontMedium u-text500\">Bài học số 1:</div>\n          <div className=\"u-marginHorizontalTiny u-textGray u-text500\">Cá nướng của Miu đâu rồi?</div>\n          <div><Badge variant=\"primary_subtle\">256 người đang xem </Badge></div>\n        </Header.Left>\n        <Header.Right>\n          <Login/>\n        </Header.Right>\n      </Header.Main>\n    </Header>\n  );\n}\n","import React from 'react';\nimport { Resizable, ResizableBox } from 'react-resizable';\n\n\nexport default function YoutubeIframe() {\n    let [youtubeUrl, setYoutubeUrl] = React.useState();\n\n    function updateNewStreamUrl() {\n        //dummy API\n        fetch(\"./youtubesource.json\")\n        .then((response) => response.json())\n        .then(data => {\n            if(data.url !== youtubeUrl)\n                setYoutubeUrl(data.url)\n        })\n        .catch((e) => {\n            console.error(e)\n        })\n    }\n\n    React.useEffect( () => {\n        const interval = setInterval(() => {\n            updateNewStreamUrl();\n        }, 1000);\n        return () => clearInterval(interval);\n    }, [])\n\n    return (\n        <iframe width=\"100%\"\n                height=\"100%\" \n                src={youtubeUrl} \n                frameBorder=\"0\" \n                allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" \n                allowFullScreen/>\n    )\n}","import React from \"react\";\nimport { useUserData } from \"./User\";\nimport { singletonHook } from 'react-singleton-hook';\nlet socket: SocketIOClient.Socket | null = null;\nconst init = null;\n\nconst useSocketImpl = () => {\n    const userData = useUserData();\n    const [socket, setSocket] = React.useState(null as SocketIOClient.Socket | null);\n    React.useEffect(() => {\n        socket?.close();\n    \n        const token = userData.jwtToken;\n        setSocket(window.io(\"/\", {\n          query: `token=${token}`,\n        }) as SocketIOClient.Socket)\n    \n        return () => {\n          if (socket) socket.close();\n        };\n    }, [userData]);\n\n    return socket;\n}\n\nexport const useSocket = singletonHook(init, useSocketImpl);","import React from \"react\";\n\nimport {\n  Avatar,\n  Icon,\n  Dropdown,\n  //@ts-ignore\n} from \"@gotitinc/design-system\";\n//@ts-ignore\nimport classNames from \"classnames\";\nimport { useUserData } from \"../Hooks/User\";\nimport { useSocket } from \"../Hooks/Socket\";\n\nexport function UserMessageUI({\n    username,\n    message,\n    messageId,\n    message_type,\n  }: {\n    username: string,\n    message: string,\n    messageId: string\n    message_type: string,\n  }) {\n    const [hover, setHover] = React.useState(false);\n    const userData = useUserData();\n    const socket = useSocket();\n  \n    const handleDeleteMessage = (e: any) => {\n      if(!socket)\n        return;\n  \n      socket.emit(\"delete_message\", messageId);\n    }\n  \n    return (\n      <div\n        className=\"u-flex u-marginBottomExtraSmall u-paddingRightMedium u-positionRelative\"\n        onMouseEnter={() => setHover(true)}\n        onMouseLeave={() => setHover(false)}\n      >\n        <div className=\"u-flexShrink-0 u-marginRightExtraSmall\">\n          <Avatar src={require(\"../assets/images/kid-boy.png\")} />\n        </div>\n        <div className=\"u-flexGrow-1 u-text200 u-marginTopTiny u-textWordBreak\">\n          <span\n            className={classNames(\n              \"u-fontBold u-marginRightExtraSmall u-textLight\"\n            )}\n          >\n            {username}\n          </span>\n          <span\n            className={classNames(message_type === \"global\" && \"u-textWarning\")}\n          >\n            {message}\n          </span>\n        </div>\n        {hover && (\n          <div className=\"u-positionAbsolute u-positionRight u-positionTop\">\n            <Dropdown alignRight>\n              <Dropdown.Toggle className=\"u-textLight hover:u-textGray u-lineHeightNone u-rotate90\">\n                <Icon size=\"extraSmall\" name=\"more\" />\n              </Dropdown.Toggle>\n              <Dropdown.Container\n                className=\"u-paddingVerticalExtraSmall\"\n                additionalStyles={{ minWidth: 150 }}\n              >\n                <Dropdown.Item\n                  className=\"u-cursorPointer u-alignItemsCenter\"\n                  role=\"button\"\n                  onClick={() => {}}\n                >\n                  <Icon name=\"flag\" size=\"extraSmall\" />\n                  <span className=\"u-marginLeftExtraSmall u-text200 u-textNoWrap\">\n                    Báo cáo vi phạm\n                  </span>\n                </Dropdown.Item>\n                {userData?.role === 0 && (\n                  <Dropdown.Item\n                    className=\"u-cursorPointer u-alignItemsCenter\"\n                    role=\"button\"\n                  >\n                    <Icon name=\"closeCircleOutline\" size=\"extraSmall\" />\n                    <span onClick={handleDeleteMessage} className=\"u-marginLeftExtraSmall u-text200 u-textNoWrap\">\n                      Xoá tin nhắn\n                    </span>\n                  </Dropdown.Item>\n                )}\n              </Dropdown.Container>\n            </Dropdown>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  export function SystemMessageUI({\n    message,\n    type,\n  }: {\n    message: string | null | undefined;\n    type: string | null | undefined;\n  }) {\n    return (\n      <div\n        className={classNames(\n          \"u-text200 u-fontItalic u-marginBottomExtraSmall\",\n          type === \"info\" && \"u-textLight\",\n          type === \"error\" && \"u-textNegative\"\n        )}\n      >\n        {message}\n      </div>\n    );\n  }","\nimport { singletonHook } from 'react-singleton-hook';\nimport React from 'react';\nimport { Room } from '../Types/Common';\n\n\nexport type ChatAnalytics = {\n    numUsers: number,\n    numRooms: number,\n    rooms: Room[]\n}\nconst init = {\n    numUsers: 0,\n    numRooms: 0,\n    rooms: [],\n}\n\nfunction useChatRoomsAnalyticsImpl() {\n\n    const [analytics, setAnalytics] = React.useState(init as ChatAnalytics);\n    const [runRoutine, setRunRoutine] = React.useState(false);\n    const updateRoutine = () => {\n        fetch(`/api/getRooms`, {\n            method: \"GET\",\n            credentials: \"same-origin\",\n            headers: {\n              \"Content-type\": \"application/json\",\n            },\n        }).then((r) => r.json())\n        .then((r: {response: Room[]}) => {\n            let newAnalytics = {\n                numUsers : r.response.map(r => r.count).reduce((a, b) => a + b),\n                numRooms: r.response.length,\n                rooms: r.response\n            }\n            setAnalytics(newAnalytics);\n            if(runRoutine)\n                setTimeout(() => updateRoutine(), 5000);\n        })\n        .catch((e) => {\n            console.error(e);\n            if(runRoutine)\n                setTimeout(() => updateRoutine(), 5000);\n        });\n    }\n\n    React.useEffect(() => {\n        updateRoutine();\n        return () => {\n            setRunRoutine(false)\n        }\n    }, []);\n\n    return analytics;\n}\n\nexport const useChatAnalytics = singletonHook(init, useChatRoomsAnalyticsImpl);","import React from \"react\";\n//@ts-ignore\nimport { Button, Icon, Dropdown, Overlay, Tooltip, Modal } from '@gotitinc/design-system';\nimport {\n  Room,\n} from \"../Types/Common\";\nimport { UserData } from \"../Types/User\";\nimport { useSocket } from \"../Hooks/Socket\";\nimport { useChatAnalytics } from \"../Hooks/Analytics\";\n\nexport default function FunctionButtonGroup({\n  isSignedIn,\n  isAdmin,\n  userData,\n} : {\n  isSignedIn: boolean,\n  isAdmin: boolean,\n  userData: UserData\n}) {\n  const [show, setShow] = React.useState(false);\n  const socket = useSocket();\n  const chatAnalytics = useChatAnalytics();\n\n  const onSwitchRandomRoom = () => {\n    socket?.emit(\"join_random_room\");\n  }\n\n  const onSwitchRoom = (roomName: string) => {\n    socket?.emit(\"join_room\", roomName);\n  }\n\n  return (\n    <React.Fragment>\n      {isSignedIn && show && (\n        <div className=\"u-positionAbsolute u-positionFull u-zIndexModal u-flex u-flexGrow-1 u-alignItemsCenter u-justifyContentCenter\">\n          <div className=\"Modal-backDrop u-positionAbsolute u-positionFull u-backgroundBlack u-zIndex2 Show \"/>\n          <div className=\"u-positionRelative u-zIndex3 u-marginMedium\">\n            <Modal size=\"small\" relative>\n              <Modal.Header closeButton onHide={() => setShow(false)}/>\n              <Modal.Body>\n                <div className=\"u-textCenter\">\n                  Chỉ được chuyển phòng tối đa 1 lần trong 5 phút. Bạn chắc chắn muốn chuyển phòng chứ?\n                </div>\n              </Modal.Body>\n              <Modal.Footer>\n                <Button variant=\"primary\" width=\"full\" onClick={onSwitchRandomRoom}>Chuyển phòng</Button>\n              </Modal.Footer>\n            </Modal>\n          </div>\n        </div>\n      )}\n      <div className=\"u-flexShrink-0 u-flex u-alignItemsCenter u-justifyContentCenter\">\n        {!isAdmin && (\n          <Dropdown alignRight>\n            <Dropdown.Button onlyIcon variant=\"positive_outline\" className=\"u-roundedCircle u-marginRightExtraSmall is-disabled\">\n              <Button.Icon><Icon name=\"raiseHand\"/></Button.Icon>\n            </Dropdown.Button>\n            <Dropdown.Container className=\"u-overflowHidden u-borderNone\">\n              <div\n                className=\"u-paddingExtraSmall u-backgroundBlack u-textWhite\"\n              >\n                Chức năng giơ tay sẽ được cập nhật trong các phiên bản sau!\n              </div>\n            </Dropdown.Container>\n          </Dropdown>\n        )}\n\n        {isAdmin && (\n          <Dropdown alignRight>\n            <Overlay.Trigger\n              key=\"bottom\"\n              placement=\"top\"\n              hoverOverlay\n              delay={{ show: 0, hide: 1 }}\n              overlay={(props: Object) => (\n                <Tooltip id=\"tooltip-choose-room\" {...props}>\n                  Chọn phòng chat\n                </Tooltip>\n              )}\n            >\n              <Dropdown.Button onlyIcon variant=\"primary\" className=\"u-roundedCircle u-marginRightExtraSmall\">\n                <Button.Icon><Icon name=\"people\"/></Button.Icon>\n              </Dropdown.Button>\n            </Overlay.Trigger>\n            <Dropdown.Container className=\"u-paddingVerticalExtraSmall\">\n              {chatAnalytics.rooms.map((r, i) => (\n                <Dropdown.Item key={r.count} onClick={() => onSwitchRoom(r.name)} className=\"u-cursorPointer\">\n                  <span className=\"u-marginLeftExtraSmall\">{r.name}</span>\n                </Dropdown.Item>\n              ))}\n            </Dropdown.Container>\n          </Dropdown>\n        )}\n\n        <Overlay.Trigger\n          key=\"bottom\"\n          placement=\"top\"\n          hoverOverlay\n          delay={{ show: 0, hide: 1 }}\n          overlay={(props: Object) => (\n            <Tooltip id=\"tooltip-change-room\" {...props}>\n              Chuyển phòng chat khác\n            </Tooltip>\n          )}\n        >\n          <Button onlyIcon variant=\"accent\" className=\"u-roundedCircle\" onClick={() => setShow(true)}>\n            <Button.Icon><Icon name=\"arrowForward\"/></Button.Icon>\n          </Button>\n        </Overlay.Trigger>\n      </div>\n    </React.Fragment>\n  );\n}\n","import React from \"react\";\nimport { useCookies } from \"react-cookie\";\nimport {\n  ChatBox,\n  Composer,\n  Avatar,\n  Form,\n  Button,\n  Icon,\n  Dropdown,\n  BubbleChat,\n  Separator,\n  Badge,\n  //@ts-ignore\n} from \"@gotitinc/design-system\";\n//@ts-ignore\n\nimport {\n  NewMessagePayload,\n  DeleteMessagePayload,\n  NewMemberJoined,\n  Room,\n  Message,\n  JoinRoomResponse,\n} from \"../Types/Common\";\n\nimport {UserMessageUI, SystemMessageUI} from \"./MessageUI\";\nimport FunctionButtonGroup from \"./FunctionButtonGroup\";\nimport { useUserData } from \"../Hooks/User\";\nimport { useSocket } from \"../Hooks/Socket\";\nimport { useChatAnalytics } from \"../Hooks/Analytics\";\n\nfunction ChatMessage({ message_type, payload, action }: Message) {\n  switch (action) {\n    case \"new_member_joined\":\n      return (\n        <SystemMessageUI\n          message={`${payload.username} just joined the room \"${payload.room}\"`}\n          type=\"info\"\n        />\n      );\n    case \"message\":\n      return (\n        <UserMessageUI\n          username={payload.username}\n          message={payload.msg}\n          messageId={payload.message_id}\n          message_type={message_type as string}\n        />\n      );\n    case \"api_message_highlight\":\n      return <SystemMessageUI message={payload.response} type=\"error\" />;\n\n    case \"api_message\":\n        return <SystemMessageUI message={payload.response} type=\"info\" />;\n    default:\n      return null;\n  }\n}\n\n\n\nexport default function Chatbox() {\n  const [messages, updateMessages] = React.useState([] as Message[]);\n  const [messageInput, setMessageInput] = React.useState(\"\");\n  const [currentRoom, setCurrentRoom] = React.useState(null as null | string);  \n  const [sendAll, setSendAll] = React.useState(false);\n  const socket = useSocket();\n  const userData = useUserData();\n  const chatAnalytics = useChatAnalytics();\n\n  const isAdmin = userData?.isLoggedIn && userData?.role === 0;\n\n\n  const handleSubmit = (\n    event: React.FormEvent<HTMLFormElement> | undefined\n  ) => {\n    if (event) {\n      event.preventDefault();\n    }\n    let messageToSend = messageInput.trim();\n    let event_type = \"message\";\n\n    //hacky command handling\n    if (sendAll) {\n      event_type = \"global_message\";\n    } else if (messageInput.includes(\"/join_room\")) {\n      event_type = \"join_room\";\n      messageToSend = messageInput.replace(\"/join_room \", \"\").trim(); // room name\n    } else if (messageInput.includes(\"/report\")) {\n      // this is handled via API\n      event_type = \"report\";\n      let userName = messageInput.replace(\"/report \", \"\").trim(); // room number\n      fetch(`/api/report?target_user=${userName}`, {\n        method: \"GET\",\n        credentials: \"same-origin\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          Authorization: `Bearer ${userData.jwtToken}`,\n        },\n      })\n        .then((r) => r.json())\n        .then((r) => {\n          console.log(r);\n          messages.push({\n            payload: r,\n            action: \"api_message\",\n          });\n          updateMessages([...messages]); \n        })\n        .catch((e) => {\n          console.error(e);\n        });\n      setTimeout(() => setMessageInput(\"\"), 1);\n      return;\n    } else if (messageInput.includes(\"/unban\")) {\n      event_type = \"unban\";\n      let userName = messageInput.replace(\"/unban \", \"\").trim(); // room number\n      fetch(`/admin/unban?target_user=${userName}`, {\n        method: \"GET\",\n        credentials: \"same-origin\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          Authorization: `Bearer ${userData.jwtToken}`,\n        },\n      })\n        .then((r) => r.json())\n        .then((r) => {\n          console.log(r);\n          messages.push({\n            payload: r,\n            action: \"api_message\",\n          });\n          updateMessages([...messages]); \n        })\n        .catch((e) => {\n          console.error(e);\n        });\n      setTimeout(() => setMessageInput(\"\"), 1);\n    }\n    socket?.emit(event_type, messageToSend);\n    setTimeout(() => setMessageInput(\"\"), 1);\n    setSendAll(false);\n  };\n\n  React.useEffect(() => {\n    if(!socket)\n      return;\n\n    socket.on(\"message\", (payload: NewMessagePayload) => {\n      console.log(payload);\n      messages.push({\n        payload: payload,\n        message_type: payload.type,\n        action: \"message\",\n      });\n      updateMessages([...messages]); \n    });\n\n    socket.on(\"delete_message\", (payload: DeleteMessagePayload) => {\n      for(let i = 0; i < messages.length; ++i) {\n        if(messages[i].action === \"message\" &&\n        (messages[i].payload as NewMessagePayload).message_id === payload.message_id) {\n          messages[i] = {\n            payload: {\n              response: \"Message was deleted by Admin\",\n            },\n            action: \"api_message_highlight\",\n          };\n          break;\n        }\n      }\n     \n      updateMessages([...messages]);\n    });\n\n    socket.on(\"new_member_joined\", (payload: NewMemberJoined) => {\n      messages.push({\n        payload: payload,\n        action: \"new_member_joined\",\n      });\n      updateMessages([...messages]); \n    });\n\n    socket.on(\"join_room_resp\", (payload: JoinRoomResponse) => {\n      messages.push({\n        payload: payload,\n        action: \"api_message\",\n      });\n\n      if(payload.status === 1) \n        setCurrentRoom(payload.room);\n\n      updateMessages([...messages]); \n    });\n\n    return () => {\n      if(socket) socket.close();\n    }\n  }, [socket]);\n\n  //auto scroll\n  React.useEffect(() => {\n    var objDiv = document.querySelector(\".ChatBox-list > div\");\n\n    if (objDiv) objDiv.scrollTop = objDiv.scrollHeight;\n  }, [messages]);\n\n  return (\n    <React.Fragment>\n      {!userData.isLoggedIn && (\n        <div className=\"u-positionAbsolute u-positionFull u-zIndexModal u-flex u-alignItemsEnd\">\n          <div className=\"Modal-backDrop u-positionAbsolute u-positionFull u-backgroundBlack u-zIndex2 Show \" />\n          <div className=\"u-positionRelative u-zIndex3 u-marginSmall u-marginBottomExtraLarge\">\n            <BubbleChat\n              className=\"u-marginNone\"\n              text=\"Xin chào, đăng nhập vào tài khoàn STEAM for Vietnam LMS của bạn để bất đầu chat với các thành viên khác trong phòng chat này!\"\n              type=\"outbound\"\n              avatar={() => (\n                <Avatar\n                  className=\"u-flexShrink-0 u-marginRightExtraSmall u-marginTopExtraSmall\"\n                  src={require(\"../assets/images/nophoto.svg\")}\n                />\n              )}\n            />\n          </div>\n        </div>\n      )}\n      <div className=\"u-flex u-flexColumn u-flexGrow-1\">\n        <div className=\"u-backgroundWhite u-borderTop u-borderLeft u-borderRight u-paddingExtraSmall u-text200 u-flex u-flexRow\">\n          <div className=\"u-flexGrow-1\">\n            <div>\n              <span>Số người đang chat:&nbsp;</span>\n              <span className=\"u-fontMedium\">{chatAnalytics.numUsers}</span>\n            </div>\n            <div>\n              <span>Số phòng chat:&nbsp;</span>\n              <span className=\"u-fontMedium\">{chatAnalytics.numRooms}</span>\n            </div>\n            <div>\n              <span>Phòng chat hiện tại:&nbsp;</span>\n              <span className=\"u-fontMedium\">{currentRoom}</span>\n            </div>\n          </div>\n          <FunctionButtonGroup\n            isSignedIn={userData.isLoggedIn}\n            isAdmin={isAdmin}\n            userData={userData}\n          />\n        </div>\n        <ChatBox className=\"u-border u-backgroundWhite\">\n          <ChatBox.List>\n            {messages.map((m, i) => (\n              <ChatMessage key={i} {...m} />\n            ))}\n          </ChatBox.List>\n          <ChatBox.Context>\n            <Separator variant=\"lighter\" />\n            {isAdmin && (\n              <div className=\"u-paddingExtraSmall\">\n                <Form.Check\n                  id=\"send_all\"\n                  checked={sendAll}\n                  label=\"Gửi cho tất cả\"\n                  onChange={() => setSendAll(!sendAll)}\n                />\n              </div>\n            )}\n            <Composer\n              className=\"u-borderTopNone\"\n              disabledAttachButton\n              disabledSendButton={false}\n              sendButtonActive={messageInput.trim() !== \"\" && userData.isLoggedIn}\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n                setMessageInput(e.target.value)\n              }\n              inputProps={{\n                value: messageInput,\n                maxRows: 4,\n                placeholder: \"Tin nhắn cho lớp ...\",\n                disabled: !userData.isLoggedIn,\n                onKeyDown: async (e: React.KeyboardEvent<HTMLInputElement>) => {\n                  const keyCode = e.keyCode || e.which;\n                  if (\n                    keyCode === 13 &&\n                    !e.shiftKey &&\n                    messageInput.trim() !== \"\"\n                  ) {\n                    e.preventDefault();\n                    handleSubmit(undefined);\n                  }\n                },\n              }}\n              sendButtonProps={{\n                onClick: handleSubmit,\n              }}\n            />\n          </ChatBox.Context>\n        </ChatBox>\n      </div>\n    </React.Fragment>\n  );\n}\n","import React from \"react\";\n//@ts-ignore\nimport { PageLayout } from \"@gotitinc/design-system\";\nimport NavBar from \"./Components/Navbar\";\nimport YoutubeIframe from \"./Components/YoutubeIframe\";\nimport Chatbox from \"./Components/Chatbox\";\n\nfunction App() {\n  return (\n    <PageLayout\n      style={{\n        height: \"100vh\",\n      }}\n    >\n      <PageLayout.Header className=\"u-borderBottom\">\n        <NavBar />\n      </PageLayout.Header>\n      <PageLayout.Body className=\"u-overflowVerticalAuto u-webkitScrollbar\">\n        <div className=\"Container Container--fluid u-paddingTopMedium u-paddingBottomSmall u-flex u-flexColumn u-backgroundOpaline\">\n          <div className=\"Grid Grid--smallGutter u-flexGrow-1\">\n            <div className=\"u-size9of12\">\n              <YoutubeIframe />\n            </div>\n            <div className=\"u-size3of12 u-flex u-positionRelative\">\n              <Chatbox />\n            </div>\n          </div>\n        </div>\n      </PageLayout.Body>\n    </PageLayout>\n  );\n}\n\nexport default App;\n","// @ts-nocheck\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport '@gotitinc/design-system/dist/index-steam4vn.min.css';\nimport App from './App';\nimport './assets/css/custom.css';\nimport * as serviceWorker from './serviceWorker';\nimport { CookiesProvider } from 'react-cookie';\n\nReactDOM.render(\n  <React.StrictMode>\n    <CookiesProvider>\n      <App />\n    </CookiesProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}